<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>NFS on NyanC&#39;s Blog</title>
    <link>https://blog.nyanco.top/tags/nfs/</link>
    <description>Recent content in NFS on NyanC&#39;s Blog</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>zh-cn</language>
    <lastBuildDate>Thu, 18 Mar 2021 13:42:04 +0800</lastBuildDate><atom:link href="https://blog.nyanco.top/tags/nfs/index.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>Build a Diskless Cluster(Centos7)</title>
      <link>https://blog.nyanco.top/posts/build-a-diskless-cluster/</link>
      <pubDate>Thu, 18 Mar 2021 13:42:04 +0800</pubDate>
      
      <guid>https://blog.nyanco.top/posts/build-a-diskless-cluster/</guid>
      <description>æ— ç›˜é›†ç¾¤(Diskless Cluster),æŒ‡é›†ç¾¤ä¸­è®¡ç®—èŠ‚ç‚¹æ²¡æœ‰å®‰è£…å¯å¯åŠ¨(Bootable)çš„æ“ä½œç³»ç»Ÿ,æ— ç›˜é›†ç¾¤ä¼˜ç‚¹æ˜¯ç»´æŠ¤æ–¹ä¾¿,å‡å°‘å­˜å‚¨èµ„æºæŠ•å…¥,ä½¿ç”¨MPIç­‰æ–¹å¼æ‰§è¡Œè®¡ç®—æ—¶æ‰§è¡Œæ–‡ä»¶åŒæ­¥è¾ƒæ–¹ä¾¿;ç¼ºç‚¹æ˜¯å¯¹ é›†ç¾¤çš„ç½‘ç»œæ€§èƒ½,å­˜å‚¨èŠ‚ç‚¹çš„IOæ€§èƒ½è¦æ±‚è¾ƒé«˜.(PXE:M61:Media no found ğŸ™ƒ
æœ¬æ–‡å‚è€ƒUSTCé›†ç¾¤èµ„æ–™æ’°å†™.
ç›®æ ‡é›†ç¾¤æ‹“æ‰‘ç»“æ„:
|----------------| |172.25.2.101(m0)|---- |----------------| | |172.25.2.102(s1)|---- |----------------| |---|Ethernet Switch| |172.25.2.103(s2)|---- |----------------| | |172.25.2.104(s3)|---- |----------------| å‡†å¤‡å·¥ä½œ å‡†å¤‡Centos7å®‰è£…é•œåƒ,æ­¤å¤„åœ°å€ä¸ºTunaæº.
å¦‚æœä½¿ç”¨IPMI/KVMå®‰è£…é•œåƒè¯·è‡ªåŠ¨è·³è¿‡ä»¥ä¸‹æ­¥éª¤:
å‡†å¤‡USB flash installation medium.ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤å°†é•œåƒæ–‡ä»¶å†™å…¥USBè®¾å¤‡(ä½¿ç”¨USBè®¾å¤‡/dev/sda,/dev/sdb&amp;hellip;æ›¿æ¢/dev/sdx):
$ dd bs=4M if=/path/to/centos.iso of=/dev/sdx status=progress &amp;amp;&amp;amp; sync åœ¨m0èŠ‚ç‚¹ä¸Šå®‰è£…Centos,å¹¶å‡çº§ç³»ç»Ÿ,å®‰è£…å¿…è¦çš„åŒ…:
 dracut-networkä¼šä¸ºé•œåƒå†…æ·»åŠ nfsç­‰ç½‘ç»œæ”¯æŒ
 $ yum -y update $ yum -y install nfs-utils tftp-server dnsmasq syslinux dracut dracut-network dracut-networkåŒ…å®‰è£…ååœ¨/etc/dracut.confæ–‡ä»¶ä¸­æ·»åŠ :
$ vim /etc/dracut.conf # add nfs root support add_dracutmodules+=&amp;#34;nfs&amp;#34; å…³é—­SELinux
$ vim /etc/sysconfig/selinux # This file controls the state of SELinux on the system.</description>
    </item>
    
  </channel>
</rss>
